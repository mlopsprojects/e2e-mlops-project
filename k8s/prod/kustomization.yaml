apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Define resources (your deployment and service YAML files)
resources:
  - ../base/fastapi-deploy.yaml
  - ../base/fastapi-svc.yaml
  - ../base/streamlit-deploy.yaml
  - ../base/streamlit-svc.yaml
  - ../base/namespace.yaml

# Add common labels to all resources
commonLabels:
  app: obpredict

# Define namespace if needed (optional)
namespace: prod  # Change this if required

# Configure name prefixes (optional)
namePrefix: prod-

# Add any custom patches if needed (optional)
patchesStrategicMerge: []

# Set images for FastAPI and Streamlit apps
images:
  - name: fastapi-app
    newName: ghcr.io/mlopsprojects/e2e-mlops-project/fastapi-app
    newTag: latest
  - name: streamlit-app
    newName: ghcr.io/mlopsprojects/e2e-mlops-project/streamlit-app
    newTag: latest